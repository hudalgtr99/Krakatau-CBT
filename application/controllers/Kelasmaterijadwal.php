<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasmaterijadwal extends CI_Controller { public function __construct() { goto OH4zS; lBiAN: if ($this->ion_auth->logged_in()) { goto hdnJU; } goto aU3F8; SyMOR: hdnJU: goto xmTT2; y5UZi: $this->load->model("\104\x72\157\x70\144\157\167\156\137\155\x6f\x64\145\154", "\144\x72\x6f\160\144\x6f\x77\x6e"); goto B_9Dv; xmTT2: $this->load->library(["\144\x61\x74\x61\164\141\142\x6c\x65\x73", "\146\157\162\x6d\137\166\141\154\151\144\141\164\x69\x6f\156"]); goto bc5v1; U5q9m: $this->load->model("\113\x65\154\x61\x73\x5f\x6d\x6f\x64\145\154", "\x6b\x65\154\x61\x73"); goto y5UZi; gkLbA: $this->load->model("\x44\141\x73\150\142\x6f\141\x72\x64\137\155\x6f\144\145\x6c", "\x64\x61\x73\x68\x62\157\x61\162\144"); goto UYX2i; bc5v1: $this->load->model("\x4d\x61\x73\x74\145\x72\x5f\x6d\x6f\144\145\x6c", "\155\x61\163\x74\145\x72"); goto gkLbA; aU3F8: redirect("\x61\165\164\150"); goto SyMOR; QvZ8u: $this->load->model("\114\157\147\x5f\155\x6f\144\x65\154", "\x6c\157\147\x67\x69\156\147"); goto U5q9m; UYX2i: $this->load->model("\x43\142\164\137\155\x6f\x64\145\154", "\143\x62\x74"); goto QvZ8u; OH4zS: parent::__construct(); goto lBiAN; B_9Dv: $this->form_validation->set_error_delimiters('', ''); goto Ktz_9; Ktz_9: } public function output_json($data, $encode = true) { goto s4BOP; t0V5B: $data = json_encode($data); goto Zpzg3; s4BOP: if (!$encode) { goto QNAmm; } goto t0V5B; Zpzg3: QNAmm: goto KTGil; KTGil: $this->output->set_content_type("\x61\160\160\154\151\143\x61\x74\x69\157\156\57\152\x73\157\x6e")->set_output($data); goto wzvhX; wzvhX: } public function index() { goto Br4CF; tORR0: $tp = $this->dashboard->getTahunActive(); goto xB6Cl; M9M2T: $data["\x64\x61\164\x65\x5f\163\145\x6c\145\143\164\145\x64"] = $thn . "\x2d" . $bln . "\x2d" . date("\144"); goto DdCb0; Ja65P: $data["\164\x70\137\141\143\x74\151\166\x65"] = $tp; goto OV3c8; pgJ03: $data["\155\145\x74\150\157\144"] = ''; goto WOU5V; ULaI9: goto MEoLF; goto fPgGG; juX93: $this->load->view("\x5f\x74\145\x6d\x70\x6c\x61\164\x65\163\57\144\x61\163\x68\x62\x6f\141\x72\x64\57\x5f\x68\145\x61\144\x65\x72", $data); goto Srib1; nEr1z: $this->load->view("\155\145\155\142\x65\x72\163\x2f\x67\x75\162\x75\x2f\x74\x65\x6d\x70\x6c\141\164\145\x73\57\150\x65\x61\x64\x65\x72", $data); goto E1wTb; Br4CF: $user = $this->ion_auth->user()->row(); goto fC0rC; CPrV9: $this->load->view("\x6d\145\155\x62\145\x72\163\x2f\x67\165\x72\x75\x2f\x74\145\x6d\x70\154\x61\x74\x65\x73\57\146\x6f\x6f\164\x65\162"); goto J71vO; AGScM: Wu3e7: goto ks1ww; aasVr: $data["\142\x6c\x6e\x5f\x73\x65\x6c\145\143\164\x65\144"] = $bln; goto M9M2T; NUAuq: $thn = $smt->id_smt == "\61" ? $tahun[0] : $tahun[1]; goto aasVr; ahW2f: $data["\151\x64\x5f\x6b\145\x6c\x61\163"] = "\60"; goto pgJ03; lNYqb: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto ahW2f; E1wTb: $this->load->view("\153\145\x6c\141\x73\x2f\x6d\x61\164\x65\162\x69\x6a\141\x64\167\141\154\57\144\141\164\141"); goto CPrV9; fPgGG: rGerr: goto JXSbj; JXSbj: $data["\x70\x72\x6f\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto juX93; be0MY: $data["\x67\165\x72\165"] = $guru; goto nEr1z; G2UCc: goto MEoLF; goto AGScM; Srib1: $this->load->view("\x6b\145\154\141\163\x2f\155\141\164\x65\162\x69\x6a\x61\x64\167\141\x6c\x2f\144\x61\x74\x61"); goto rnUvR; SIfwj: $data["\x6a\155\x6c\x4d\x61\160\x65\x6c"] = []; goto W7qhz; fC0rC: $data = ["\x75\x73\x65\162" => $user, "\x6a\x75\144\x75\154" => "\112\141\144\x77\141\x6c\40\120\145\x6c\x61\152\141\162\141\x6e", "\x73\x75\142\152\165\x64\x75\154" => "\123\x65\x74\40\x4a\x61\144\x77\x61\154\x20\120\x65\154\141\152\141\162\x61\x6e", "\163\145\x74\164\x69\156\147" => $this->dashboard->getSetting()]; goto tORR0; obs03: $data["\x73\155\x74\137\x61\x63\164\x69\x76\x65"] = $smt; goto lNYqb; xB6Cl: $smt = $this->dashboard->getSemesterActive(); goto UyauP; uYvQE: $bln = $smt->id_smt == "\x31" ? "\x37" : "\61"; goto VpQ_2; UyauP: $data["\x74\x70"] = $this->dashboard->getTahun(); goto Ja65P; rnUvR: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\145\163\57\x64\141\x73\150\x62\157\141\162\x64\57\137\146\x6f\x6f\x74\x65\162"); goto G2UCc; ks1ww: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto be0MY; THumK: if ($this->ion_auth->in_group("\147\165\162\165")) { goto Wu3e7; } goto ULaI9; DdCb0: if ($this->ion_auth->is_admin()) { goto rGerr; } goto THumK; OV3c8: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto obs03; VpQ_2: $tahun = explode("\x2f", $tp->tahun); goto NUAuq; J71vO: MEoLF: goto Yo7I0; W7qhz: $data["\x74\x68\x6e\137\x73\145\x6c\x65\x63\x74\x65\x64"] = $tp->tahun; goto uYvQE; WOU5V: $data["\152\155\x6c\111\163\x74"] = []; goto SIfwj; Yo7I0: } public function kelas() { goto OcNHS; g3S3h: RW0mR: goto s8nSn; X0KBC: NRAoK: goto c6MsO; Tf8S0: $data["\163\155\164"] = $this->dashboard->getSemester(); goto Y1gNh; nQliJ: $data["\151\x64\x5f\x6b\145\x6c\141\163"] = $kelas; goto MkEwR; rSs8o: $data["\x77\x65\145\x6b"] = $week; goto eCWUw; lqgFL: Hdsk1: goto GO22E; CEvKn: qp7kF: goto JXoOh; GO22E: $i++; goto HB_ST; PYByR: $bulan = $this->input->get("\142\165\x6c\x61\x6e"); goto AJimp; aUlcz: $data = ["\165\163\x65\x72" => $user, "\152\x75\144\165\154" => "\x4a\141\144\167\141\x6c\x20\x4d\141\164\x65\x72\151\x20\57\40\x54\x75\x67\x61\163", "\x73\x75\142\152\165\144\x75\x6c" => "\123\145\x74\40\x4a\141\x64\x77\141\x6c\40\x4d\141\x74\145\x72\x69\40\57\x20\124\165\147\x61\163", "\x73\145\164\164\x69\x6e\147" => $setting]; goto dryO0; JXoOh: $i = 0; goto g3S3h; A90fh: $jadk = $this->kelas->getJadwalKbm($tp->id_tp, $smt->id_smt, $kelas); goto D02e4; MYSLr: foreach ($jadm as $j) { $jadwal_mapel[] = ["\x6a\x61\144\167\141\154" => $this->kelas->getJadwalMapelByHari($tp->id_tp, $smt->id_smt, $j->jam_ke, $kelas)]; sxT4X: } goto pF77g; t7Yxs: $this->load->view("\137\x74\x65\x6d\x70\154\141\164\145\163\57\x64\141\163\150\x62\157\x61\x72\x64\x2f\x5f\x68\x65\141\144\x65\162", $data); goto DXjUI; Fya34: $jadwal_mapel[] = ["\152\141\x64\x77\x61\x6c" => $this->kelas->getDummyJadwalMapel($tp->id_tp, $smt->id_smt, $i + 1, $kelas)]; goto lqgFL; y5QRA: $week = [date("\131\x2d\x6d\55\x64", strtotime("\155\157\156\x64\x61\171\40\164\x68\151\x73\x20\x77\x65\145\x6b", strtotime($date))), date("\131\55\x6d\x2d\x64", strtotime("\164\165\x65\163\144\141\x79\40\x74\x68\x69\x73\40\x77\x65\x65\153", strtotime($date))), date("\x59\55\155\55\144", strtotime("\167\x65\144\156\145\x73\144\141\x79\x20\164\x68\151\163\40\x77\145\x65\x6b", strtotime($date))), date("\131\x2d\x6d\55\144", strtotime("\x74\150\165\162\163\144\x61\x79\x20\x74\150\x69\163\40\x77\145\145\153", strtotime($date))), date("\x59\x2d\155\55\x64", strtotime("\x66\x72\x69\x64\141\x79\x20\164\x68\151\163\x20\167\145\145\x6b", strtotime($date))), date("\131\x2d\155\x2d\x64", strtotime("\163\x61\x74\x75\x72\144\141\x79\40\164\150\151\x73\40\x77\145\145\153", strtotime($date)))]; goto a1MMO; OGu2W: $data["\x6a\x61\x64\167\141\154\137\x6b\142\x6d"] = json_decode(json_encode(["\151\144\x5f\x74\160" => $tp->tahun, "\151\x64\x5f\163\x6d\164" => $smt->smt, "\x69\x64\x5f\x6b\145\x6c\x61\x73" => $kelas, "\x6b\x62\x6d\137\152\x61\155\x5f\160\x65\154" => '', "\153\142\155\137\x6a\x61\155\137\x6d\165\x6c\141\151" => '', "\153\142\155\x5f\x6a\x6d\154\137\x6d\x61\160\145\x6c\137\150\141\x72\151" => '', "\151\163\164\x69\162\141\x68\141\164" => serialize([]), "\141\x64\x61" => false])); goto ibUhr; HQ7K8: $data["\x67\165\x72\165"] = $this->dashboard->getDetailGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto gY3OJ; gY3OJ: $this->load->view("\155\145\155\142\x65\x72\x73\x2f\x67\165\x72\165\57\x74\145\155\160\154\x61\x74\x65\163\57\x68\145\141\x64\145\162", $data); goto cs2KY; DXjUI: $this->load->view("\153\145\x6c\x61\x73\x2f\x6d\141\x74\145\162\151\152\141\x64\167\x61\x6c\57\x64\x61\x74\141"); goto wK1ek; d97Fl: $data["\152\x61\x64\x77\x61\x6c\137\x6b\x62\x6d"] = $jadk; goto i6TR7; dryO0: $tp = $this->dashboard->getTahunActive(); goto Grn1t; EzW8l: $data["\x6d\141\x70\x65\x6c\163"] = $this->master->getAllMapel(); goto y5QRA; I4Ltm: abm7w: goto oP3q5; cEEB7: $data["\164\x70\137\x61\143\164\151\166\x65"] = $tp; goto Tf8S0; QhZRt: $data["\x64\145\164\x61\x69\154\x5f\152\x61\144\x77\141\154\x5f\164\x75\147\141\163"] = isset($semua_materi[2]) ? $semua_materi[2] : []; goto JJdHa; D02e4: if ($jadk == null) { goto F86HY; } goto d97Fl; OcNHS: $tahun = $this->input->get("\164\x61\x68\165\156"); goto PYByR; eCWUw: $data["\x6f\160\x73\x69\x5f\155\x61\164\145\162\151"] = $this->kelas->getAllMateriByKelas($tp->id_tp, $smt->id_smt); goto LWZdI; AJimp: $kelas = $this->input->get("\153\x65\x6c\x61\x73"); goto Clgum; Y1gNh: $data["\163\x6d\164\137\x61\143\x74\x69\x76\x65"] = $smt; goto M7gRh; PDdw9: $user = $this->ion_auth->user()->row(); goto oYQZ9; Clgum: $date = $this->input->get("\144\x61\x74\x65"); goto PDdw9; s8nSn: if (!($i < $jml_mapel)) { goto hVJ2z; } goto Fya34; cs2KY: $this->load->view("\153\145\x6c\x61\x73\57\x6d\x61\x74\145\x72\151\x6a\141\144\x77\x61\154\x2f\144\141\164\x61"); goto UyW_D; mzCg1: $data["\152\141\x64\167\141\154\137\x6d\x61\160\145\x6c"] = $jadwal_mapel; goto EzW8l; hVjsJ: $data["\144\141\x74\145\x5f\163\145\x6c\x65\x63\x74\145\x64"] = $date; goto rSs8o; kR7r3: uvoye: goto mzCg1; ONLf_: if ($this->ion_auth->in_group("\x67\x75\x72\x75")) { goto qe6Tv; } goto goYyN; LWZdI: $semua_materi = $this->kelas->getAllJadwalMateriByKelas($tp->id_tp, $smt->id_smt); goto AB7qz; UVrzd: $data["\164\160"] = $this->dashboard->getTahun(); goto cEEB7; JJdHa: if ($this->ion_auth->is_admin()) { goto NRAoK; } goto ONLf_; UyW_D: $this->load->view("\x6d\x65\155\x62\145\162\x73\x2f\x67\165\162\x75\57\x74\145\x6d\x70\154\x61\x74\145\163\57\146\x6f\157\x74\x65\162"); goto I4Ltm; a1MMO: $data["\164\x68\156\137\163\x65\154\145\x63\x74\145\144"] = $tahun; goto A3gdy; goYyN: goto abm7w; goto X0KBC; c6MsO: $data["\x70\x72\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto t7Yxs; uxQC1: F86HY: goto OGu2W; oYQZ9: $setting = $this->dashboard->getSetting(); goto aUlcz; WgejV: qe6Tv: goto HQ7K8; CML2a: $data["\155\145\x74\x68\157\144"] = "\141\144\x64"; goto kR7r3; cgMiP: $data["\x6d\145\x74\x68\x6f\144"] = "\145\144\151\164"; goto BC5Ra; BC5Ra: goto uvoye; goto CEvKn; HB_ST: goto RW0mR; goto bPzpQ; A3gdy: $data["\x62\154\x6e\137\x73\x65\x6c\145\x63\x74\x65\144"] = $bulan; goto hVjsJ; wK1ek: $this->load->view("\x5f\164\x65\x6d\160\154\141\164\x65\x73\x2f\x64\141\163\x68\x62\x6f\x61\x72\144\57\137\x66\x6f\x6f\164\x65\162"); goto J63so; QpA5v: if ($jadm == null) { goto qp7kF; } goto MYSLr; Grn1t: $smt = $this->dashboard->getSemesterActive(); goto UVrzd; AB7qz: $data["\x64\145\x74\141\x69\x6c\x5f\152\141\144\x77\x61\x6c\x5f\155\141\164\x65\x72\151"] = isset($semua_materi[1]) ? $semua_materi[1] : []; goto QhZRt; MkEwR: $jadm = $this->kelas->getJadwalMapelGroupJam($tp->id_tp, $smt->id_smt, $kelas); goto upOO0; upOO0: $jml_mapel = $jadk == null ? 1 : $jadk->kbm_jml_mapel_hari; goto QpA5v; pF77g: njVZE: goto cgMiP; M7gRh: $data["\153\x65\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto A90fh; i6TR7: goto OTrqy; goto uxQC1; ibUhr: OTrqy: goto nQliJ; J63so: goto abm7w; goto WgejV; bPzpQ: hVJ2z: goto CML2a; oP3q5: } public function setJadwal() { goto sidAY; QkcjD: $id_tp = $this->master->getTahunActive()->id_tp; goto IOT91; RGYdf: $i = 1; goto SqSOt; ajAAi: Nhd2u: goto dZB1x; K2eC3: $id_kelas = $this->input->post("\x69\x64\x5f\153\145\154\141\163", true); goto Ijwkz; Ijwkz: $insert = ["\151\x64\x5f\x6b\142\155" => $id_tp . $id_smt . $id_kelas, "\151\x64\x5f\164\160" => $id_tp, "\x69\144\x5f\x73\x6d\x74" => $id_smt, "\x69\x64\137\153\145\154\141\163" => $id_kelas, "\153\142\x6d\x5f\152\x61\155\x5f\160\145\154" => $this->input->post("\152\141\x6d\137\x6d\x61\160\x65\x6c", true), "\x6b\x62\x6d\137\x6a\x61\155\137\155\165\x6c\x61\x69" => $this->input->post("\x6a\141\155\137\155\x75\154\141\151", true), "\x6b\142\x6d\x5f\152\x6d\154\137\x6d\141\x70\x65\154\x5f\x68\x61\162\151" => $this->input->post("\x6a\x6d\154\x5f\155\141\x70\x65\154", true), "\x69\163\x74\151\162\x61\x68\141\x74" => serialize($istirahat)]; goto huzo0; dZB1x: PVPNy: goto fV3WM; SqSOt: oY_yP: goto sWZVt; mSIG7: $this->output_json($data); goto FjGFG; cWKNS: $this->logging->saveLog(3, "\x6d\x65\x72\165\x62\x61\150\x20\152\141\144\x77\x61\x6c\40\x70\145\154\141\152\x61\x72\x61\156"); goto XdJ_D; HwTSn: $istirahat[] = ["\x69\163\x74" => $jamke, "\x64\165\162" => $durasi]; goto ajAAi; TFd7u: $jamke = $this->input->post("\x69\x73\164" . $i, true); goto bbWBA; sidAY: $istirahat = []; goto RGYdf; TGzEB: if (!$jamke) { goto Nhd2u; } goto HwTSn; bbWBA: $durasi = $this->input->post("\144\165\x72\137\151\x73\164" . $i, true); goto TGzEB; huzo0: $update = $this->db->replace("\x6b\x65\154\141\x73\x5f\x6a\141\x64\x77\141\154\x5f\153\142\155", $insert); goto cWKNS; SvQaj: sXjdy: goto QkcjD; XdJ_D: $data["\163\164\141\x74\165\x73"] = $update; goto mSIG7; IOT91: $id_smt = $this->master->getSemesterActive()->id_smt; goto K2eC3; fV3WM: $i++; goto DiXv4; DiXv4: goto oY_yP; goto SvQaj; sWZVt: if (!($i < 5)) { goto sXjdy; } goto TFd7u; FjGFG: } public function setMapel() { goto tL_ae; lSiOk: $this->output_json($res); goto ubBXn; OHq20: foreach ($input as $d) { goto A7g71; P0X4i: TJZ6y: goto r7gxn; ZHHFE: $update = $this->db->replace("\x6b\145\x6c\141\163\x5f\x6a\x61\144\x77\x61\x6c\x5f\155\141\x70\x65\x6c", $data); goto P0X4i; A7g71: $data = ["\151\144\x5f\x6a\141\144\167\x61\x6c" => $d->id_tp . $d->id_smt . $id_kelas . $d->id_hari . $d->jam_ke, "\151\144\137\x74\160" => $d->id_tp, "\151\144\137\x73\155\164" => $d->id_smt, "\151\144\137\153\145\154\141\163" => $id_kelas, "\x69\x64\x5f\150\x61\x72\151" => $d->id_hari, "\x6a\x61\155\137\153\145" => $d->jam_ke, "\x69\144\137\155\x61\160\x65\154" => $d->id_mapel]; goto ZHHFE; r7gxn: } goto P7_Qb; Le5SO: $res["\x73\x74\x61\x74\165\x73"] = $update; goto lSiOk; P7_Qb: kY0Np: goto Le5SO; gNI70: $id_kelas = $this->input->post("\151\144\137\153\145\x6c\x61\163", true); goto OHq20; tL_ae: $input = json_decode($this->input->post("\144\141\x74\x61", true)); goto gNI70; ubBXn: } public function saveJadwal() { goto r2LGh; z8Z9N: $input_tugas = json_decode($this->input->post("\x74\x75\x67\x61\163", true)); goto aJXf9; ECHE1: G7ad0: goto X9IZi; X9IZi: $this->logging->saveLog(3, "\155\x65\162\165\x62\141\x68\x20\152\141\144\167\141\154\x20\x6d\141\x74\145\x72\x69\40\x64\141\x6e\x20\164\165\x67\141\163"); goto UoHRM; r2LGh: $input_materi = json_decode($this->input->post("\x6d\141\164\145\162\x69", true)); goto z8Z9N; v1nq7: foreach ($input_tugas as $im) { goto QirMD; QirMD: $insert = ["\x6a\x65\156\151\163" => "\62", "\x69\x64\x5f\153\152\x6d" => $im->id_kjm, "\151\x64\x5f\x74\x70" => $im->id_tp, "\x69\x64\137\x73\x6d\164" => $im->id_smt, "\x69\x64\137\153\x65\x6c\141\163" => $im->id_kelas, "\151\144\x5f\x6d\x61\x74\145\x72\x69" => $im->id_materi, "\151\144\137\155\x61\160\145\x6c" => $im->id_mapel, "\x6a\141\x64\167\x61\154\137\x6d\x61\164\145\162\151" => $im->jadwal_materi]; goto euDM_; euDM_: $update = $this->db->replace("\153\145\x6c\141\163\x5f\152\141\x64\167\141\x6c\x5f\155\x61\164\145\x72\x69", $insert); goto XqZ1Y; XqZ1Y: xqaUl: goto v0ViF; v0ViF: } goto ECHE1; aJXf9: foreach ($input_materi as $im) { goto sORWD; sORWD: $insert = ["\x6a\145\x6e\x69\163" => "\x31", "\x69\x64\x5f\x6b\152\x6d" => $im->id_kjm, "\151\x64\137\x74\x70" => $im->id_tp, "\x69\x64\x5f\163\155\164" => $im->id_smt, "\x69\x64\x5f\153\x65\x6c\x61\163" => $im->id_kelas, "\151\144\137\155\x61\x74\x65\x72\x69" => $im->id_materi, "\x69\x64\137\x6d\141\x70\x65\154" => $im->id_mapel, "\x6a\141\x64\x77\141\154\x5f\x6d\141\x74\145\162\151" => $im->jadwal_materi]; goto TKZgt; LtT5X: KkhMg: goto r4cG8; TKZgt: $update = $this->db->replace("\153\x65\x6c\141\163\137\x6a\141\x64\x77\x61\x6c\x5f\155\x61\x74\145\162\x69", $insert); goto LtT5X; r4cG8: } goto NQznc; UoHRM: $this->output_json($update); goto vShzc; NQznc: WWGqi: goto v1nq7; vShzc: } }
