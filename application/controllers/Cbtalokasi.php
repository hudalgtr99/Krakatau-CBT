<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto ab4GC; Y5h2D: show_error("\110\141\156\x79\x61\x20\101\144\x6d\151\156\151\163\164\162\x61\164\157\x72\40\171\141\156\x67\x20\x64\151\x62\x65\x72\x69\40\x68\x61\x6b\40\x75\x6e\164\x75\x6b\40\x6d\x65\x6e\x67\141\x6b\163\145\163\40\x68\141\154\141\x6d\x61\156\40\151\x6e\151\54\x20\74\x61\x20\x68\x72\145\146\75\42" . base_url("\144\x61\163\x68\142\x6f\141\x72\x64") . "\x22\x3e\x4b\145\x6d\142\141\x6c\x69\40\153\x65\40\x6d\145\156\165\40\141\167\x61\x6c\x3c\57\x61\x3e", 403, "\x41\x6b\x73\145\163\40\124\x65\162\x6c\x61\162\141\x6e\147"); goto lCiJp; DcuHc: if (!$this->ion_auth->logged_in()) { goto ywwqD; } goto vuwJ0; lCiJp: sjMaz: goto AJVLa; zdHk0: $this->load->model("\x4d\141\x73\164\145\x72\137\x6d\x6f\x64\x65\154", "\x6d\141\163\164\x65\162"); goto oTCH1; pSNff: $this->load->model("\104\162\157\x70\x64\157\x77\156\x5f\x6d\157\144\145\154", "\x64\x72\x6f\160\x64\x6f\167\x6e"); goto xgod8; ab4GC: parent::__construct(); goto DcuHc; QQDoL: $this->load->model("\x43\142\164\x5f\x6d\157\x64\x65\154", "\x63\x62\x74"); goto gkKb6; vuwJ0: if ($this->ion_auth->is_admin()) { goto sjMaz; } goto Y5h2D; Kh6C8: $this->load->library(["\144\141\164\141\x74\x61\x62\154\145\x73", "\146\x6f\162\155\137\166\x61\154\151\x64\x61\164\x69\157\156"]); goto zdHk0; xgod8: $this->form_validation->set_error_delimiters('', ''); goto Z4bby; yORHA: ywwqD: goto wfZ1C; gkKb6: $this->load->model("\114\157\147\x5f\155\x6f\144\145\154", "\154\157\x67\x67\151\x6e\147"); goto pSNff; wfZ1C: redirect("\141\x75\x74\x68"); goto h_Fv2; oTCH1: $this->load->model("\104\x61\163\150\x62\x6f\141\x72\144\x5f\155\157\x64\145\x6c", "\x64\141\x73\x68\142\157\141\x72\x64"); goto QQDoL; AJVLa: goto wnGn0; goto yORHA; h_Fv2: wnGn0: goto Kh6C8; Z4bby: } public function output_json($data, $encode = true) { goto Q_ELY; nHwE4: $this->output->set_content_type("\x61\x70\x70\154\x69\143\141\164\151\157\x6e\x2f\x6a\163\157\x6e")->set_output($data); goto dvu45; Q_ELY: if (!$encode) { goto w7jli; } goto qfiU9; Z3rpP: w7jli: goto nHwE4; qfiU9: $data = json_encode($data); goto Z3rpP; dvu45: } public function index() { goto RkS51; YviIv: $data["\x6c\x65\x76\x65\154\137\x73\x65\154\145\x63\x74\x65\x64"] = $level_selected; goto JgkTR; QGFHZ: $levels = ["\x30" => "\x50\x69\154\151\x68\x20\114\145\x76\x65\154", "\x31" => "\61", "\x32" => "\x32", "\x33" => "\63", "\64" => "\64", "\65" => "\65", "\66" => "\66"]; goto b4uNB; LUSHq: $levels = ["\x30" => "\120\151\x6c\x69\x68\x20\x4c\x65\166\x65\154", "\67" => "\x37", "\x38" => "\70", "\x39" => "\x39"]; goto MSPSm; b4uNB: goto DtfRR; goto D2dkA; ZkthT: if ($setting->jenjang == "\62") { goto cx18P; } goto ZVoBR; s6EzY: $setting = $this->dashboard->getSetting(); goto CKb5H; D2dkA: cx18P: goto LUSHq; Wws0W: $data["\x6c\x65\x76\145\154\x73"] = $levels; goto sFnkV; a9lA1: xyz4X: goto BJE01; ObMKZ: cLM2J: goto qoLcu; rSsah: DtfRR: goto Wws0W; f5K0A: $data["\x70\162\x6f\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto MwhiA; matc0: $data["\x6a\145\x6e\x69\x73"] = ['' => "\x62\x65\x6c\x75\155\40\141\144\x61\x20\152\x61\x64\167\x61\154\40\165\152\151\x61\156"]; goto knPZ4; Mscl4: MGcTV: goto zJcN8; BJE01: $jenis_selected = $this->input->get("\152\145\x6e\x69\163", true); goto uLiPR; mbtOM: ilUC3: goto fiPHm; W3g7U: $dari_selected = $this->input->get("\x64\141\162\x69", true); goto puVSh; z4ahF: if (!(count($id_jenis) > 0)) { goto VPfpv; } goto arcjs; gqPBj: $data["\163\155\164"] = $this->dashboard->getSemester(); goto msb1M; ZVoBR: if ($setting->jenjang == "\x33") { goto Kuzr9; } goto RkPNM; OTvkY: $data["\162\165\x61\x6e\147"] = $this->dropdown->getAllRuang(); goto jr0aV; Nx22b: $jadwals = []; goto S4ZNj; RkS51: $user = $this->ion_auth->user()->row(); goto s6EzY; ppuZJ: $data["\x74\x70"] = $this->dashboard->getTahun(); goto I8qK9; MSPSm: goto DtfRR; goto mFbyM; p7is3: UBAs4: goto QGFHZ; I8qK9: $data["\164\x70\137\141\x63\x74\x69\166\145"] = $tp; goto gqPBj; sFnkV: $ret = []; goto O_L18; ySpIR: if ($setting->jenjang == "\61") { goto UBAs4; } goto ZkthT; MwhiA: $this->load->view("\x5f\164\145\x6d\160\154\x61\164\145\163\57\144\x61\x73\150\142\x6f\141\162\x64\x2f\x5f\x68\x65\141\144\145\162", $data); goto W0PkO; uLiPR: $level_selected = $this->input->get("\x6c\x65\166\145\154", true); goto CcOMI; RkPNM: goto DtfRR; goto p7is3; JgkTR: $data["\x66\151\x6c\164\145\x72\137\x73\145\154\145\x63\x74\x65\144"] = $filter_selected; goto gUE6n; W0PkO: $this->load->view("\x63\x62\x74\x2f\x61\x6c\157\x6b\x61\x73\151\x2f\x64\141\164\x61"); goto HfhnC; c0505: ctP7x: goto W7Yb7; O_L18: foreach ($jadwals as $key => $row) { goto e1Rep; e1Rep: if (isset($ret[$row->tgl_mulai])) { goto WclCQ; } goto cVYdc; Z6UhD: array_push($ret[$row->tgl_mulai], $row); goto ITBOf; jdDX1: goto BgbrA; goto BrM8v; BrM8v: WclCQ: goto Z6UhD; cVYdc: $ret[$row->tgl_mulai] = []; goto JviCz; JviCz: array_push($ret[$row->tgl_mulai], $row); goto jdDX1; bS5uo: pTr5s: goto PuXQx; ITBOf: BgbrA: goto bS5uo; PuXQx: } goto ObMKZ; twi6B: $levels = ["\x30" => "\x50\151\x6c\x69\x68\40\x4c\x65\x76\145\154", "\61\x30" => "\x31\x30", "\61\x31" => "\61\61", "\x31\62" => "\61\62"]; goto rSsah; q1uCj: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto mbtOM; fiPHm: $data["\x6b\145\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto OTvkY; CcOMI: $filter_selected = $this->input->get("\x66\x69\154\164\145\x72", true); goto W3g7U; HfhnC: $this->load->view("\137\x74\145\x6d\160\x6c\141\164\x65\x73\x2f\144\141\163\x68\142\157\x61\x72\x64\x2f\137\146\x6f\157\164\145\162"); goto VNSO7; arcjs: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); XD8Vc: } goto c0505; yPLQZ: $tp = $this->dashboard->getTahunActive(); goto QZkCY; kStkc: $data["\146\x69\x6c\164\x65\x72"] = ["\60" => "\123\145\x6d\165\141", "\61" => "\124\141\x6e\147\x67\x61\x6c"]; goto xMi9G; S4ZNj: if (!($jenis_selected != null && $level_selected != null)) { goto ilUC3; } goto q1uCj; YvrYA: $ids = []; goto z4ahF; CKb5H: $data = ["\x75\x73\x65\x72" => $user, "\x6a\165\x64\165\x6c" => "\101\154\157\153\141\x73\x69\x20\x57\141\153\x74\165", "\x73\165\142\152\165\144\165\154" => "\101\154\157\153\141\x73\151\40\x57\141\153\x74\165\40\125\152\151\141\156", "\163\145\x74\x74\151\156\x67" => $setting]; goto yPLQZ; XebGk: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto YvrYA; Rzq5C: if (count($ids) > 0) { goto MGcTV; } goto matc0; jr0aV: $levels = []; goto ySpIR; puVSh: $sampai_selected = $this->input->get("\163\141\155\x70\141\x69", true); goto kStkc; gUE6n: $data["\144\141\162\151\x5f\x73\145\x6c\x65\143\x74\145\144"] = $dari_selected; goto VJ3FX; knPZ4: goto xyz4X; goto Mscl4; mFbyM: Kuzr9: goto twi6B; QZkCY: $smt = $this->dashboard->getSemesterActive(); goto ppuZJ; W7Yb7: VPfpv: goto Rzq5C; msb1M: $data["\163\155\164\137\141\x63\164\x69\166\145"] = $smt; goto XebGk; zJcN8: $data["\x6a\x65\x6e\x69\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto a9lA1; VJ3FX: $data["\163\141\155\160\x61\151\x5f\163\x65\154\x65\143\x74\x65\x64"] = $sampai_selected; goto Nx22b; xMi9G: $data["\x6a\x65\156\x69\163\137\163\145\x6c\145\x63\164\x65\144"] = $jenis_selected; goto YviIv; qoLcu: $data["\152\141\x64\167\141\154\163"] = $jadwals; goto f5K0A; VNSO7: } public function saveAlokasi() { goto GhV0L; GY3Ck: $insert = []; goto a3y7O; MyROR: $update = $this->db->update_batch("\x63\142\x74\x5f\x6a\141\x64\x77\x61\154", $insert, "\151\x64\137\x6a\141\x64\167\141\x6c"); goto rubGv; GhV0L: $input = json_decode($this->input->post("\141\154\x6f\x6b\x61\x73\x69", true)); goto GY3Ck; rubGv: $data["\163\x74\141\164\x75\x73"] = $update; goto opegS; a3y7O: foreach ($input as $d) { goto J9XL1; Ec5YN: DF0Gc: goto Of93K; rCFGt: array_push($insert, ["\151\x64\137\152\x61\x64\167\141\154" => $d->id_jadwal, "\x6a\141\155\137\153\x65" => $d->jam_ke]); goto Ec5YN; J9XL1: if (!($d->id_jadwal != "\x30")) { goto DF0Gc; } goto rCFGt; Of93K: ZTt6b: goto N4f5f; N4f5f: } goto NADGh; opegS: $this->output_json($data); goto mBHES; NADGh: m0Nwd: goto MyROR; mBHES: } }
