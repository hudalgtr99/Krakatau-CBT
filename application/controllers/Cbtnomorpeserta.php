<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtnomorpeserta extends CI_Controller { public function __construct() { goto Umab6; Q_PJm: $this->load->model("\104\x72\157\x70\x64\x6f\167\x6e\x5f\155\x6f\x64\145\154", "\x64\162\157\160\144\x6f\x77\x6e"); goto qBRCT; Wqn5X: $this->load->library(["\x64\x61\164\x61\164\x61\x62\x6c\x65\163", "\146\157\x72\155\137\166\141\154\151\144\141\x74\151\157\x6e"]); goto H5Pdn; Umab6: parent::__construct(); goto B3y0d; Y4ZtA: redirect("\141\165\164\150"); goto rp12d; H5Pdn: $this->load->library("\x75\x70\154\x6f\x61\x64"); goto fuuBe; T54XC: goto w8h5k; goto bvsd4; dUBMV: Pwwtc: goto T54XC; cTmZk: $this->load->model("\104\x61\163\x68\x62\x6f\x61\x72\144\x5f\x6d\157\x64\145\154", "\x64\141\x73\150\142\x6f\141\162\144"); goto Az6M_; A1lhH: show_error("\110\141\x6e\x79\x61\40\x41\144\155\x69\156\x69\163\164\x72\141\x74\x6f\162\40\x79\141\x6e\147\40\144\151\x62\x65\x72\x69\x20\150\141\153\40\x75\156\164\x75\x6b\40\155\x65\156\x67\141\x6b\163\x65\163\40\x68\x61\x6c\x61\155\141\156\40\x69\x6e\x69\x2c\x20\x3c\x61\40\150\x72\x65\x66\75\x22" . base_url("\x64\x61\163\150\142\157\141\162\144") . "\42\x3e\x4b\x65\x6d\142\141\x6c\151\x20\153\145\x20\x6d\x65\156\x75\x20\x61\x77\141\154\x3c\57\x61\76", 403, "\x41\153\x73\145\163\x20\x54\x65\162\x6c\x61\162\x61\x6e\147"); goto dUBMV; qBRCT: $this->form_validation->set_error_delimiters('', ''); goto fyJP6; B3y0d: if (!$this->ion_auth->logged_in()) { goto dHBJ2; } goto HTI5U; fuuBe: $this->load->model("\x4d\141\163\x74\x65\162\x5f\155\x6f\x64\145\154", "\x6d\141\x73\164\145\x72"); goto cTmZk; Az6M_: $this->load->model("\x43\x62\x74\x5f\155\x6f\144\x65\x6c", "\143\x62\164"); goto Q_PJm; bvsd4: dHBJ2: goto Y4ZtA; rp12d: w8h5k: goto Wqn5X; HTI5U: if ($this->ion_auth->is_admin()) { goto Pwwtc; } goto A1lhH; fyJP6: } public function output_json($data, $encode = true) { goto dzPJd; bEWjn: $data = json_encode($data); goto jOXCI; dzPJd: if (!$encode) { goto zfDPq; } goto bEWjn; jOXCI: zfDPq: goto pTZ5R; pTZ5R: $this->output->set_content_type("\x61\x70\160\x6c\151\143\141\x74\x69\x6f\156\x2f\152\163\157\x6e")->set_output($data); goto RHAqY; RHAqY: } public function index() { goto yVLPv; Rg9xo: $this->load->view("\x5f\x74\x65\x6d\x70\154\x61\x74\x65\163\x2f\144\141\x73\x68\x62\x6f\141\x72\x64\57\x5f\146\x6f\157\164\145\x72"); goto xxD73; nI6iZ: $data["\x6a\x61\x64\167\141\154"] = $this->dropdown->getAllJadwal($tp->id_tp, $smt->id_smt); goto LLTEo; yVLPv: $user = $this->ion_auth->user()->row(); goto A8PqY; LLTEo: $data["\153\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto NXByl; gH8nb: $data["\x73\145\163\x69"] = $this->dropdown->getAllSesi(); goto kPEMm; aCegc: $tp = $this->dashboard->getTahunActive(); goto fKEL4; A8PqY: $data = ["\165\x73\145\162" => $user, "\x6a\165\x64\165\x6c" => "\116\157\x6d\x6f\x72\x20\120\x65\x73\145\x72\x74\141", "\163\165\x62\x6a\x75\144\165\x6c" => "\x47\x65\156\x65\162\141\164\x65\x20\x4e\157\155\x6f\x72\x20\120\x65\x73\145\x72\164\x61\40\125\x6a\151\141\156", "\x70\162\157\x66\x69\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\163\145\164\x74\x69\156\x67" => $this->dashboard->getSetting()]; goto aCegc; HRwva: $this->load->view("\x63\142\x74\57\x6e\x6f\x6d\x6f\x72\x70\145\163\x65\x72\164\x61\57\x64\141\164\141"); goto Rg9xo; E8OkK: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto AxPuk; DbmqO: $data["\x74\160\x5f\x61\143\x74\x69\x76\x65"] = $tp; goto E8OkK; AxPuk: $data["\x73\x6d\x74\137\141\143\x74\x69\166\x65"] = $smt; goto nI6iZ; VrhDa: $data["\x74\160"] = $this->dashboard->getTahun(); goto DbmqO; fKEL4: $smt = $this->dashboard->getSemesterActive(); goto VrhDa; NXByl: $data["\x72\x75\x61\x6e\x67"] = $this->dropdown->getAllRuang(); goto gH8nb; kPEMm: $this->load->view("\137\164\145\x6d\x70\154\x61\164\145\x73\57\x64\x61\x73\x68\x62\157\x61\x72\144\57\137\x68\x65\x61\x64\x65\x72", $data); goto HRwva; xxD73: } public function saveNomor() { goto nwzgQ; vd14E: AiMbS: goto SkoTW; TN8vi: $update = false; goto b6loq; SkoTW: $this->output_json($update); goto knwZn; pPq5R: $arrNomor = $this->cbt->getAllNomorPeserta(); goto hAILd; hAILd: $tp = $this->dashboard->getTahunActive(); goto TN8vi; b6loq: foreach ($input as $in) { goto ye3oF; cW3JF: $update = false; goto KO54k; yIkXS: ydlmp: goto cW3JF; KO54k: rOtL5: goto F1HPn; VZXqG: if ($nomorAda != null && $nomorAda->nomor_peserta == $in->nomor && $nomorAda->id_siswa != $in->id) { goto ydlmp; } goto Wv9CA; Wv9CA: $insert = ["\x69\144\x5f\156\157\155\157\162" => $in->id . $tp->id_tp, "\151\x64\137\163\151\x73\167\141" => $in->id, "\x69\x64\137\164\160" => $tp->id_tp, "\x6e\157\155\x6f\162\x5f\160\x65\x73\x65\162\x74\141" => $in->nomor]; goto ntrf6; ntrf6: $update = $this->db->replace("\x63\x62\x74\x5f\156\157\x6d\157\162\137\160\x65\163\x65\162\x74\141", $insert); goto NX14W; F1HPn: jskxM: goto NGl76; NX14W: goto rOtL5; goto yIkXS; ye3oF: $nomorAda = isset($arrNomor[$in->id]) ? $arrNomor[$in->id] : null; goto VZXqG; NGl76: } goto vd14E; nwzgQ: $input = json_decode($this->input->post("\x73\x69\163\x77\x61", true)); goto pPq5R; knwZn: } public function resetNomor() { goto UJQWK; ufVpw: $siswas = $this->cbt->getSiswaByKelasArray($tp->id_tp, $smt->id_smt, $input); goto NqBJY; FfN0o: $this->output_json($res); goto NM5nO; UJQWK: $input = json_decode($this->input->get("\153\145\x6c\141\x73", true)); goto oZl1E; szDHr: ffbu6: goto sTQ9I; zuYX1: $smt = $this->dashboard->getSemesterActive(); goto ufVpw; sTQ9I: $res["\x73\164\x61\164\165\x73"] = $update; goto FfN0o; NqBJY: foreach ($siswas as $siswa) { goto B071e; B071e: $insert = ["\151\144\x5f\x6e\157\x6d\x6f\x72" => $siswa->id_siswa . $tp->id_tp, "\151\144\137\163\x69\x73\167\141" => $siswa->id_siswa, "\151\x64\x5f\x74\x70" => $tp->id_tp, "\156\157\x6d\x6f\x72\x5f\x70\145\x73\x65\162\164\x61" => '']; goto sRNok; sRNok: $update = $this->db->replace("\x63\142\x74\x5f\x6e\x6f\x6d\157\162\x5f\x70\145\163\x65\162\x74\x61", $insert); goto YnVgM; YnVgM: fkPZn: goto raEf2; raEf2: } goto szDHr; oZl1E: $tp = $this->dashboard->getTahunActive(); goto zuYX1; NM5nO: } public function getSiswaKelas($arr_kelas) { goto M6Ag7; FsxWd: $data["\156\157\155\157\162"] = $arrNomor; goto hMbj1; hMbj1: $this->output_json($data); goto Ltg01; M6Ag7: $tp = $this->dashboard->getTahunActive(); goto ENx50; tLeCX: $kelas = json_decode(urldecode($arr_kelas)); goto LjMso; En0_G: $data["\163\x69\163\167\x61"] = $siswas; goto FsxWd; LjMso: $siswas = $this->cbt->getSiswaByKelasArray($tp->id_tp, $smt->id_smt, $kelas); goto O4tN_; ENx50: $smt = $this->dashboard->getSemesterActive(); goto tLeCX; O4tN_: $arrNomor = $this->cbt->getAllNomorPeserta(); goto En0_G; Ltg01: } }
